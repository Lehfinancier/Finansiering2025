<!DOCTYPE html>
<html lang="en"><head>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-html/tabby.min.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dc55a5b9e770e841cd82e46aadbfb9b0.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.8.24">

  <meta name="author" content="Niklas Lehmann Jensen">
  <title>Finansiering 2025 – Risikomål for obligationer</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
  </style>
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/theme/quarto-565ef86150f1a57566569b2d4da14a6d.css">
  <link href="../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <!-- MathJax v3 config MUST come before the loader -->

  <script>

    window.MathJax = {

      tex: {

        inlineMath: [['$', '$'], ['\\(', '\\)']],

        displayMath: [['$$', '$$'], ['\\[', '\\]']],

        tags: 'ams',

        macros: {

          vect: ["\\mathbf{#1}", 1],

          mat: ["\\mathbf{#1}", 1],

  

          bA: "\\boldsymbol{A}", bB: "\\boldsymbol{B}", bC: "\\boldsymbol{C}",

          bD: "\\boldsymbol{D}", bE: "\\boldsymbol{E}", bF: "\\boldsymbol{F}",

          bG: "\\boldsymbol{G}", bH: "\\boldsymbol{H}", bI: "\\boldsymbol{I}",

          bJ: "\\boldsymbol{J}", bK: "\\boldsymbol{K}", bL: "\\boldsymbol{L}",

          bM: "\\boldsymbol{M}", bN: "\\boldsymbol{N}", bO: "\\boldsymbol{O}",

          bP: "\\boldsymbol{P}", bQ: "\\boldsymbol{Q}", bR: "\\boldsymbol{R}",

          bS: "\\boldsymbol{S}", bT: "\\boldsymbol{T}", bU: "\\boldsymbol{U}",

          bV: "\\boldsymbol{V}", bW: "\\boldsymbol{W}", bX: "\\boldsymbol{X}",

          bY: "\\boldsymbol{Y}", bZ: "\\boldsymbol{Z}",

  

          balpha: "\\boldsymbol{\\alpha}",  bbeta: "\\boldsymbol{\\beta}",

          bgamma: "\\boldsymbol{\\gamma}",  bdelta: "\\boldsymbol{\\delta}",

          blambda: "\\boldsymbol{\\lambda}", bmu: "\\boldsymbol{\\mu}",

          brho: "\\boldsymbol{\\rho}", bsigma: "\\boldsymbol{\\sigma}",

          btheta: "\\boldsymbol{\\theta}", bphi: "\\boldsymbol{\\phi}",

  

          abs: ["\\left\\lvert #1 \\right\\rvert", 1],

          norm: ["\\left\\lVert #1 \\right\\rVert", 1],

          argmin: "\\operatorname*{argmin}",

          argmax: "\\operatorname*{argmax}",

          var: "\\mathrm{var}",

          cov: "\\mathrm{cov}"

        }

      }

    };

  </script>

  <script defer="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>

</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" data-background-color="#045D5D" data-footer="" class="quarto-title-block center">
  <h1 class="title">Risikomål for obligationer</h1>
  <p class="subtitle">Varighed, konveksitet og kurverisiko</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Niklas Lehmann Jensen 
</div>
</div>
</div>

</section><section id="TOC">
<nav role="doc-toc"> 
<h2 id="toc-title">Indhold</h2>
<ul>
<li class="fragment"><a href="#/introduktion" id="/toc-introduktion">Introduktion</a></li>
<li class="fragment"><a href="#/varighed-grundidé" id="/toc-varighed-grundidé">Varighed: grundidé</a></li>
<li class="fragment"><a href="#/varighed-og-risikomål" id="/toc-varighed-og-risikomål">Varighed og risikomål</a></li>
<li class="fragment"><a href="#/konveksitet" id="/toc-konveksitet">Konveksitet</a></li>
<li class="fragment"><a href="#/rentersiko-på-porteføljer" id="/toc-rentersiko-på-porteføljer">Rentersiko på porteføljer</a></li>
<li class="fragment"><a href="#/risikomål-og-rentestrukturen" id="/toc-risikomål-og-rentestrukturen">Risikomål og rentestrukturen</a></li>
<li class="fragment"><a href="#/risikomål-og-nøglerentevarighed" id="/toc-risikomål-og-nøglerentevarighed">Risikomål og nøglerentevarighed</a></li>
<li class="fragment"><a href="#/øvelser" id="/toc-øvelser">Øvelser</a></li>
<li class="fragment"><a href="#/opsummering" id="/toc-opsummering">Opsummering</a></li>
</ul>
</nav>
</section>
<section>
<section id="introduktion" class="title-slide slide level2 center" data-background="#00100F">
<h2>Introduktion</h2>

</section>
<section id="læringsmål" class="slide level4" data-background="#43464B">
<h4>Læringsmål</h4>
<ul>
<li class="fragment">Forstå <strong>pris–yield</strong>-relationen og hvorfor den er <strong>konveks</strong><br>
</li>
<li class="fragment">Beregne og anvende <strong>Macaulay-varighed</strong>, <strong>modificeret varighed</strong>, <strong>kronevarighed/BPV</strong> samt <strong>kronekonveksitet</strong><br>
</li>
<li class="fragment">Forstå <strong>Fisher–Weil varigheden</strong> (spotbaseret) og forskellen til Macaulay<br>
</li>
<li class="fragment">Skelne <strong>parallelle</strong> og <strong>ikke-parallelle</strong> kurvebevægelser og bruge <strong>nøglerentevarigheder (delta-vektor)</strong><br>
</li>
<li class="fragment">Aggregere risikomål på <strong>porteføljer</strong> (vægtning m. markedsværdi vs.&nbsp;nom. beløb) og anvende dem til <strong>immunisering/hedging</strong></li>
</ul>
</section></section>
<section>
<section id="varighed-grundidé" class="title-slide slide level2 center" data-background="#00100F">
<h2>Varighed: grundidé</h2>

</section>
<section id="intuition" class="slide level4" data-background="#43464B">
<h4>Intuition</h4>
<ul>
<li class="fragment">Varighed er et af de vigtigste risikomål indenfor obligationsverdenen</li>
<li class="fragment">Den hjælper investorer med at sammenligne risici på tværs af obligationer med forskellige karakteristika så som kupon, løbetider, konverteringsret osv.</li>
<li class="fragment">Varigheder kan hjælpe investorer med at styre deres portefølje, ved at matche varigheder for at reducere renterisiko</li>
<li class="fragment">Det kan også forbinde afkast og risiko over tid, fordi den afspejler en balance mellem kursrisiko og reinvesteringssrisiko</li>
<li class="fragment">Der findees tre former for varigheder: Macaulay-varigheden (Varighed), modificeret varighed og kronevarigheden</li>
</ul>
</section>
<section id="varighed-og-gennemsnitlig-løbetid" class="slide level4" data-background="#43464B">
<h4>Varighed og gennemsnitlig løbetid</h4>
<ul>
<li class="fragment">Antag vi har to obligationer med samme løbetid på 10 år:
<ul>
<li class="fragment">Stående lån: Løbende rente, ingen afdrag før til sidst.</li>
<li class="fragment">Serie lån: Løbende rente og afdrag.</li>
</ul></li>
<li class="fragment">Prisen på det stående lån er mere sensitiv overfor renteændringer! Hvorfor?</li>
<li class="fragment">Det skyldes at den gennemsnitlige løbetid på den stående obligation er længere end serieobligationen.</li>
<li class="fragment">Jo længere løbetid en obligation har, desto flere betalinger vil blive påvirket af renteændringerne.</li>
</ul>
</section>
<section id="varighed-og-gennemsnitlig-løbetid-1" class="slide level4" data-background="#43464B">
<h4>Varighed og gennemsnitlig løbetid</h4>
<ul>
<li class="fragment">Men, vi har lige antaget at de begge har en løbetid på 10 år? Hvordan hænger det så sammen?</li>
<li class="fragment">Det skyldes, hvor størrelsen af betalingerne er placeret i obligationernes løbetid.</li>
<li class="fragment">Et stående lån har kun løbende rentebetalinger, og hele afdraget i form af hovedstolen til sidst. Største delen af obligationens betaling er dermed sidst i perioden.</li>
<li class="fragment">Et serielån har derimod fast afdrag og faldende rentebetalinger, hvilket resulterer i største delen af betalingerne i starten af perioden.</li>
<li class="fragment">En renteændring vil alt andet lige påvirke prisen på en stående oblgiation mere end serieobligationen, fordi en større del af af betalingsstrømmen vil blive påvirket.</li>
</ul>
</section>
<section id="varighed-og-gennemsnitlig-løbetid-2" class="slide level4" data-background="#43464B">
<h4>Varighed og gennemsnitlig løbetid</h4>
<ul>
<li class="fragment">Men, vi har lige antaget at de begge har en løbetid på 10 år? Hvordan hænger det så sammen?</li>
<li class="fragment">Det skyldes, hvor størrelsen af betalingerne er placeret i obligationernes løbetid.</li>
<li class="fragment">Et stående lån har kun løbende rentebetalinger, og hele afdraget i form af hovedstolen til sidst. Største delen af obligationens betaling er dermed sidst i perioden.</li>
<li class="fragment">Et serielån har derimod fast afdrag og faldende rentebetalinger, hvilket resulterer i største delen af betalingerne i starten af perioden.</li>
<li class="fragment">En renteændring vil alt andet lige påvirke prisen på en stående oblgiation mere end serieobligationen, fordi en større del af af betalingsstrømmen vil blive påvirket.</li>
</ul>
</section>
<section id="varighed-og-gennemsnitlig-løbetid-3" class="slide level4" data-background="#43464B">
<h4>Varighed og gennemsnitlig løbetid</h4>
<ul>
<li class="fragment"><img src="../../images/chapters/chapter_4/kap4_CF_Bullet.png" alt="Cashflow for stående" width="50%"></li>
<li class="fragment"><img src="../../images/chapters/chapter_4/kap4_CF_Serial.png" alt="Cashflow for serie" width="50%"></li>
<li class="fragment">Varigheden findes ved at multiplicere tiden til hver betaling med den vægt, som den pågældende betaling udgør af den samlede betalingsstrøm. Herefter sum de vægtede tider.</li>
<li class="fragment">Forskellene i cashflows vil under antagelsen af en effektiv rente på 2,45 pct, resultere i en varighed på 4,985 og 8,867 for hhv. serie og den stående obligation.</li>
<li class="fragment">Lad os se i Excel!</li>
</ul>
</section>
<section id="immunisering-balance-mellem-risici" class="slide level4" data-background="#43464B">
<h4>Immunisering – balance mellem risici</h4>
<ul>
<li class="fragment">To risici styrer obligationsafkastet: <strong>kursrisiko</strong> (kurstab ved rentestigning) og <strong>geninvesteringsrisiko</strong> (tab ved lavere genplaceringsrente efter rentefald)<br>
</li>
<li class="fragment">Risiciene <strong>trækker i modsat retning</strong>: kursfald opvejes af højere geninvesteringsrente – og kursgevinst udlignes af lavere geninvesteringsrente<br>
</li>
<li class="fragment"><strong>Varighedspunktet</strong> er balancepunktet, hvor de to effekter udligner hinanden<br>
</li>
<li class="fragment"><strong>Immuniseringshorisonten</strong> viser, hvornår en investering er “rentesikker” – man kan låse et minimumsafkast fast på tværs af scenarier<br>
</li>
<li class="fragment"><strong>Praktisk implikation</strong>: vælg en obligation, hvor <strong>varigheden matcher investeringshorisonten</strong>, hvis målet er at minimere renterisiko</li>
</ul>
</section>
<section id="immunisering-balance-mellem-risici-1" class="slide level4" data-background="#43464B">
<h4>Immunisering – balance mellem risici</h4>

<img src="../../images/chapters/chapter_4/kap4_Immunisering (1).png" alt="Immunisering og balance mellem risici" width="72%" class="r-stretch"></section></section>
<section>
<section id="varighed-og-risikomål" class="title-slide slide level2 center" data-background="#00100F">
<h2>Varighed og risikomål</h2>

</section>
<section id="macaulay-varighed" class="slide level4" data-background="#43464B">
<h4>Macaulay varighed</h4>
<ul>
<li class="fragment">CF-vægtet gennemsnitlig tid (målt i år) til at modtage obligationens betalinger<br>
</li>
<li class="fragment">God til at forstå <strong>immuniseringshorisonter</strong>: balance mellem kurs- og geninvesteringsrisiko<br>
</li>
<li class="fragment">Mindre praktisk som kurssensitivitetsmål, da den ikke tager direkte højde for renteændringer i pct.-point<br>
</li>
<li class="fragment">Bruger vi derfor især i <strong>teoretisk analyse</strong> og til at vurdere, hvornår investeringer er immuniserede</li>
</ul>
</section>
<section id="modificeret-varighed" class="slide level4" data-background="#43464B">
<h4>Modificeret varighed</h4>
<ul>
<li class="fragment">Afledt af Macaulay-varigheden:<br>
<span class="math display">\[ \text{MD} \;=\; \frac{D}{1+r} \]</span></li>
<li class="fragment">Angiver den <strong>procentvise prisændring</strong>, når den effektive rente ændres med <strong>1 procentpoint</strong><br>
</li>
<li class="fragment">Eksempel (10-årig statsobligation, <span class="math inline">\(r=2{,}45\%\)</span>):<br>
<span class="math display">\[ \frac{8,867}{1+0,0245} = 8,655 \]</span></li>
<li class="fragment">⇒ Pris falder ca. <strong>8,655%</strong> ved +1%-point renteændring<br>
</li>
<li class="fragment">Mere praktisk i risikostyring end Macaulay-varigheden</li>
</ul>
</section>
<section id="kronevarighed" class="slide level4" data-background="#43464B">
<h4>Kronevarighed</h4>
<ul>
<li class="fragment">Oversætter ændringen til <strong>kroner</strong> i stedet for procent:<br>
<span class="math display">\[ d = \frac{D}{1+r}\cdot \frac{\text{Kurs}}{100} = MD \cdot \frac{\text{Kurs}}{100} \]</span></li>
<li class="fragment">Eksempel:<br>
<span class="math display">\[ \frac{8,867}{1,0245}\cdot\frac{98,694}{100} = 8,542 \; \text{kr.} \]</span></li>
<li class="fragment">Fortolkning: Prisændring i <strong>kr.</strong> ved en renteændring på <strong>1%-point</strong><br>
</li>
<li class="fragment"><strong>Basis Point Value (BPV)</strong>: prisændring ved 1 bp (0,01%):<br>
<span class="math display">\[ \text{BPV} = \frac{\text{Kronevarighed}}{100} \approx 0,008542 \;\text{kr.} \]</span></li>
<li class="fragment">Mest anvendte risikomål i praksis (banker, realkredit, porteføljestyring)</li>
</ul>
</section></section>
<section>
<section id="konveksitet" class="title-slide slide level2 center" data-background="#00100F">
<h2>Konveksitet</h2>

</section>
<section id="hvorfor-konveksitet" class="slide level4" data-background="#43464B">
<h4>Hvorfor konveksitet?</h4>
<ul>
<li class="fragment">Varighedsmål er kun <strong>lineære approksimationer</strong> af kursfølsomheden<br>
</li>
<li class="fragment">Man begår fejl, hvis man alene bruger varighed til at forudsige kursændringer ved rentechok<br>
</li>
<li class="fragment">Se nedenstående eksempel:</li>
</ul>
<div class="smaller" style="font-size: 0.8em">
<table class="caption-top">
<thead>
<tr class="header">
<th style="text-align: left;">Renteændring</th>
<th style="text-align: right;">Effektiv rente</th>
<th style="text-align: right;">Kurs inkl. vedh. rente</th>
<th style="text-align: right;">Kursændring</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">+1%-point</td>
<td style="text-align: right;">3,45%</td>
<td style="text-align: right;">90,572</td>
<td style="text-align: right;">-8,122</td>
</tr>
<tr class="even">
<td style="text-align: left;">-1%-point</td>
<td style="text-align: right;">1,45%</td>
<td style="text-align: right;">107,689</td>
<td style="text-align: right;">+8,995</td>
</tr>
</tbody>
</table>
</div>
<ul>
<li class="fragment">Bemærk, at der <strong>ikke er symmetri</strong> mellem kursændringer ved rentefald og -stigning<br>
</li>
<li class="fragment">Denne krumning kaldes <strong>konveksitet</strong><br>
</li>
<li class="fragment">Konveksitet korrigerer varighedstilnærmelsen og giver et <strong>mere præcist prisestimat</strong> ved større renteændringer</li>
</ul>
</section>
<section id="prisyield-kurven" class="slide level4" data-background="#43464B">
<h4>Pris–yield-kurven</h4>
<ul>
<li class="fragment">At der ikke er symmetri mellem rente- og kursændringer ses i følgende graf: <img src="../../images/chapters/chapter_4/kap4_Pris_funktion_effektiv_rente_single.png" alt="Pris som funktion af effektiv rente" width="80%"></li>
<li class="fragment">Kurven er stejlere ved lave renteniveauer end ved høje renteniveauer -&gt; Samme ændring i effektiv rente har større effekt ved lave renteniveauer end høje.</li>
<li class="fragment">Ikke lineær sammenhæng mellem kurs og rente skyldes, at ved et til strækkeligt lavt renteniveau vil kursen krydse 0 og blive negativ. Det giver dog ingen mening! Derfor må den bøje af på et tidspunkt.</li>
</ul>
</section>
<section id="kronekonveksitet-definition-og-fortolkning" class="slide level4" data-background="#43464B">
<h4>Kronekonveksitet: definition og fortolkning</h4>
<ul>
<li class="fragment"><strong>Formål:</strong> rette varighedens lineære fejl i <strong>kroner</strong>.<br>
</li>
<li class="fragment"><strong>Fejl ved et renteryk</strong> ( y ) (i %-point):<br>
<span class="math display">\[ \text{Fejl} \;=\; \tfrac{1}{2}\cdot \text{kronekonveksitet} \cdot (\Delta y)^2 \]</span></li>
<li class="fragment"><strong>Tegn:</strong> altid <strong>positiv</strong> → konveksitet hjælper ved både fald og stigning (gevinst &gt; tab i absolut).<br>
</li>
<li class="fragment">Hvor kronekonveksiteten regnes som: <span class="math display">\[ \text{Kronekonveksitet} \ (C)  =  \frac{\sum_{t=1}^{N} (t^2 + t) \cdot c_t \cdot (1 + r)^t}{(1 + r)^2} \cdot 0,01^2 \]</span></li>
<li class="fragment"><strong>Intuition:</strong> vigtigst for <strong>lange</strong> løbetider (tidsleddet indgår kvadratisk).</li>
</ul>
</section>
<section id="kronekonveksitet-definition-og-fortolkning-1" class="slide level4" data-background="#43464B">
<h4>Kronekonveksitet: definition og fortolkning</h4>
<ul>
<li class="fragment">Varighed er lineær; konveksitet korrigerer for <strong>krumningen</strong><br>
<span class="math display">\[
\frac{1}{2} \cdot \text{kronekonveksitet} \cdot (\text{renteændring})^2
\]</span></li>
<li class="fragment">Giver bedre prisestimat for specielt <strong>større</strong> rentebevægelser <img src="../../images/chapters/chapter_4/kap4_Konveksitet (1).png" alt="Konveksitet kontra lineær tilnærmelse" width="65%"></li>
</ul>
</section>
<section id="konveksitet-som-beskyttelse" class="slide level4" data-background="#43464B">
<h4>Konveksitet som beskyttelse</h4>
<ul>
<li class="fragment">Konveksiteten kan bidrage positivt til investeringsresultatet i form af beskyttelse mod renteudsving.</li>
<li class="fragment">Har man tyo obligationer, hvor den ene har høj konveksitet, og den anden lav, vil man alt andet lige være mere villig til at betale mere for den med mere konveksitet.</li>
<li class="fragment">En investor der tror obligationsmarkedet vil blive meget volatil (store renteændringer) vil derfor gerne købe meget konveksitet. <img src="../../images/chapters/chapter_4/kap4_KonveksitetObliAB.png" alt="Konveksitet kontra lineær tilnærmelse" width="65%"></li>
</ul>
</section>
<section id="konveksitet-eksempel" class="slide level4" data-background="#43464B">
<h4>Konveksitet eksempel</h4>
<ul>
<li class="fragment"><p>En obligation har en effektiv rente på 2,00 pct samt en kronevarighed på 4,5 kr og kronekonveksitet på 0,8 kr.</p></li>
<li class="fragment"><p>Hvad bliver ændringen i kursen ved et hhv. fald i renten 0,5 procentpoint og stigning 0,5 procentpoint?</p></li>
<li class="fragment"><p>Fald:</p>
<p><span class="math display">\[
\Delta P = 0,5 \cdot 4,5 \;+\; \tfrac{1}{2} \cdot 0,8 \cdot (-0,5)^2
= 2,35 \text{ kr.}
\]</span></p></li>
<li class="fragment"><p>Stigning: <span class="math display">\[
\Delta P \;=\; -0,5 \cdot 4,5 \;+\; \tfrac{1}{2} \cdot 0,8 \cdot (0,5)^2
\;=\; -2,15 \text{ kr.}
\]</span></p></li>
</ul>
</section></section>
<section>
<section id="rentersiko-på-porteføljer" class="title-slide slide level2 center" data-background="#00100F">
<h2>Rentersiko på porteføljer</h2>

</section>
<section id="to-tilgange" class="slide level4" data-background="#43464B">
<h4>To tilgange</h4>
<ul>
<li class="fragment">Risiko kan beregnes <strong>direkte</strong> ved at samle hele cash flow → præcist, men tidskrævende<br>
</li>
<li class="fragment">Alternativ: brug <strong>approksimationer</strong> til at finde nøgletal på porteføljeniveau<br>
</li>
<li class="fragment">Grundregel:
<ul>
<li class="fragment">Nøgletal i <strong>kroner</strong> (kronevarighed, BPV, kronekonveksitet) → vægt med <strong>nom. beløb</strong><br>
</li>
<li class="fragment">Nøgletal i <strong>procenter</strong> (varighed, mod. varighed) → vægt med <strong>markedsværdier</strong></li>
</ul></li>
</ul>
</section>
<section id="eksempel-risikonøgletal-på-porteføljeniveau" class="slide level4" data-background="#43464B">
<h4>Eksempel: Risikonøgletal på porteføljeniveau</h4>
<div class="smaller" style="font-size: 0.65em">
<table class="caption-top">
<colgroup>
<col style="width: 10%">
<col style="width: 10%">
<col style="width: 5%">
<col style="width: 15%">
<col style="width: 16%">
<col style="width: 12%">
<col style="width: 13%">
<col style="width: 15%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th style="text-align: right;">Nom. beløb</th>
<th style="text-align: right;">Kurs</th>
<th style="text-align: right;">Markedsværdi (M)</th>
<th style="text-align: right;">Macaulay varighed</th>
<th style="text-align: right;">Mod. varighed</th>
<th style="text-align: right;">Kronevarighed</th>
<th style="text-align: right;">Kronekonveksitet</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Obligation 1</td>
<td style="text-align: right;">10.000.000</td>
<td style="text-align: right;">99,3</td>
<td style="text-align: right;">9.930.000</td>
<td style="text-align: right;">2,20</td>
<td style="text-align: right;">2,18</td>
<td style="text-align: right;">2,16</td>
<td style="text-align: right;">0,14</td>
</tr>
<tr class="even">
<td>Obligation 2</td>
<td style="text-align: right;">15.000.000</td>
<td style="text-align: right;">101,5</td>
<td style="text-align: right;">15.225.000</td>
<td style="text-align: right;">4,80</td>
<td style="text-align: right;">4,73</td>
<td style="text-align: right;">4,80</td>
<td style="text-align: right;">0,34</td>
</tr>
<tr class="odd">
<td>Obligation 3</td>
<td style="text-align: right;">25.000.000</td>
<td style="text-align: right;">102,8</td>
<td style="text-align: right;">25.700.000</td>
<td style="text-align: right;">10,50</td>
<td style="text-align: right;">10,30</td>
<td style="text-align: right;">10,59</td>
<td style="text-align: right;">1,20</td>
</tr>
<tr class="even">
<td><strong>Portefølje</strong></td>
<td style="text-align: right;">50.000.000</td>
<td style="text-align: right;">–</td>
<td style="text-align: right;">50.855.000</td>
<td style="text-align: right;"><strong>7,17</strong></td>
<td style="text-align: right;"><strong>7,05</strong></td>
<td style="text-align: right;"><strong>7,17</strong></td>
<td style="text-align: right;"><strong>0,73</strong></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="beregning-af-varighed-vægtet-m.-markedsværdi" class="slide level4" data-background="#43464B">
<h4>Beregning af varighed (vægtet m. markedsværdi)</h4>
<ul>
<li class="fragment"><p>Porteføljevarighed findes som markedsværdivægtet gennemsnit:<br>
<span class="math display">\[
D_P = \frac{9{,}93M \cdot 2,20 + 15{,}225M \cdot 4,80 + 25{,}625M \cdot 10,50}{9{,}93M+15{,}225M+25{,}625M}
= 7,17
\]</span></p></li>
<li class="fragment"><p>Modificeret varighed vægtes tilsvarende:<br>
<span class="math display">\[
MD_P = \frac{9{,}93M \cdot 2,18 + 15{,}225M \cdot 4,73 + 25{,}625M \cdot 10,14}{50{,}780M}
= 7,05
\]</span></p></li>
<li class="fragment"><p>Eller:<br>
<span class="math display">\[
MD = \frac{D}{1+r} = \frac{7,17}{1+0,0177} = 7,05
\]</span></p></li>
</ul>
</section>
<section id="kronevarighed-1" class="slide level4" data-background="#43464B">
<h4>Kronevarighed</h4>
<ul>
<li class="fragment"><p>Vægtes med <strong>nom. beløb</strong>:<br>
<span class="math display">\[
d = \frac{10M \cdot 2,16 + 15M \cdot 4,80 + 25M \cdot 10,59}{50M}
= 7,17
\]</span></p></li>
<li class="fragment"><p>Fortolkning:</p>
<ul>
<li class="fragment">Ved en ændring på +1 %-point → tab <strong>7,17 kr. pr. 100 nom.</strong><br>
</li>
<li class="fragment">Ved en ændring på −1 %-point → gevinst <strong>7,17 kr. pr. 100 nom.</strong></li>
</ul></li>
<li class="fragment"><p>Samlet for porteføljen:<br>
<span class="math display">\[
d_{tot} = \frac{7,17 \cdot 50M}{100} = 3,59 \,\text{mio. kr.}
\]</span></p></li>
</ul>
</section>
<section id="kronekonveksitet" class="slide level4" data-background="#43464B">
<h4>Kronekonveksitet</h4>
<ul>
<li class="fragment"><p>Vægtes med <strong>nom. beløb</strong>:<br>
<span class="math display">\[
C = \frac{10M \cdot 0,14 + 15M \cdot 0,34 + 25M \cdot 1,20}{50M} = 0,73 \,\text{kr.}
\]</span></p></li>
<li class="fragment"><p>Fortolkning:</p>
<ul>
<li class="fragment">Konveksiteten giver en <strong>ekstra prisjustering</strong> udover varigheden.<br>
</li>
<li class="fragment">Bruges som korrektion:<br>
<span class="math display">\[
\Delta P_{conv} = \tfrac{1}{2} \cdot C \cdot (\Delta y)^2
\]</span></li>
</ul></li>
<li class="fragment"><p>Fx ved ±1 %-point:<br>
<span class="math display">\[
\tfrac{1}{2}\cdot 0,73 = 0,37 \,\text{kr.}
\]</span><br>
→ porteføljen justeres yderligere for at få et mere præcist billede af risikoen.</p></li>
</ul>
</section></section>
<section>
<section id="risikomål-og-rentestrukturen" class="title-slide slide level2 center" data-background="#00100F">
<h2>Risikomål og rentestrukturen</h2>

</section>
<section id="hvorfor-bruge-rentestrukturen" class="slide level4" data-background="#43464B">
<h4>Hvorfor bruge rentestrukturen?</h4>
<ul>
<li class="fragment">De hidtil varighed- og konveksitetsmål har været udregnet under antagelsen af én enkelt effektiv rente, som var rentekurven helt flad.</li>
<li class="fragment">Dette giver inkonsistente risikomålinger! Kuponbetalingen der falder om 1 og 30 år diskonteres med den samme rente. Urealistisk.</li>
<li class="fragment">Løsningen er derfor at anvende nulkuponrentestrukturen, hver kuponbetalingen diskonteres med den pågældende kuponrente.</li>
<li class="fragment">Hermed får man inddraget markedsforventningerne til renterne ind i sine risikonøgletal.</li>
<li class="fragment">Varighed udregnet med nulkuponrentestrukturen kaldes for Fisher-Weil varigheden.</li>
</ul>
</section>
<section id="macaulay-vs.-fisherweil-3-årig-obligation" class="slide level4" data-background="#43464B">
<h4>Macaulay vs.&nbsp;Fisher–Weil (3-årig obligation)</h4>
<div class="smaller" style="font-size: 0.55em">
<table class="caption-top">
<colgroup>
<col style="width: 4%">
<col style="width: 4%">
<col style="width: 12%">
<col style="width: 15%">
<col style="width: 13%">
<col style="width: 11%">
<col style="width: 11%">
<col style="width: 13%">
<col style="width: 13%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">Tid</th>
<th style="text-align: right;">CF</th>
<th style="text-align: right;">Nulkuponrente</th>
<th style="text-align: right;">Eff. rente (Mac.)</th>
<th style="text-align: right;">Nulkupon (F–W)</th>
<th style="text-align: right;">Vægt (Mac.)</th>
<th style="text-align: right;">Vægt (F–W)</th>
<th style="text-align: right;">Vægt·Tid (Mac.)</th>
<th style="text-align: right;">Vægt·Tid (F–W)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: right;">2,25</td>
<td style="text-align: right;">1,25 %</td>
<td style="text-align: right;">2,19</td>
<td style="text-align: right;">2,22</td>
<td style="text-align: right;">2,22 %</td>
<td style="text-align: right;">2,32 %</td>
<td style="text-align: right;">0,0222</td>
<td style="text-align: right;">0,0232</td>
</tr>
<tr class="even">
<td style="text-align: right;">2</td>
<td style="text-align: right;">2,25</td>
<td style="text-align: right;">2,50 %</td>
<td style="text-align: right;">2,13</td>
<td style="text-align: right;">2,14</td>
<td style="text-align: right;">2,16 %</td>
<td style="text-align: right;">2,23 %</td>
<td style="text-align: right;">0,0432</td>
<td style="text-align: right;">0,0447</td>
</tr>
<tr class="odd">
<td style="text-align: right;">3</td>
<td style="text-align: right;">102,25</td>
<td style="text-align: right;">3,75 %</td>
<td style="text-align: right;">94,18</td>
<td style="text-align: right;">91,56</td>
<td style="text-align: right;">95,62 %</td>
<td style="text-align: right;">95,45 %</td>
<td style="text-align: right;">2,8685</td>
<td style="text-align: right;">2,8635</td>
</tr>
<tr class="even">
<td style="text-align: right;"><strong>Kurs</strong></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"><strong>98,50</strong></td>
<td style="text-align: right;"><strong>95,92</strong></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"><strong>2,9339</strong></td>
<td style="text-align: right;"><strong>2,9313</strong></td>
</tr>
</tbody>
</table>
</div>
</section></section>
<section>
<section id="risikomål-og-nøglerentevarighed" class="title-slide slide level2 center" data-background="#43464B">
<h2>Risikomål og nøglerentevarighed</h2>

</section>
<section id="hvorfor-bruge-nøglerentevarigheder" class="slide level4" data-background="#43464B">
<h4>Hvorfor bruge nøglerentevarigheder?</h4>
<ul>
<li class="fragment">Ulempen ved at bruge Fisher Weil varighedsmålet er, at den måler risikoen ved paralelle skift i rentekurven.</li>
<li class="fragment">Her bevæger alle renter på tværs af rentekurven sig lige meget (eksempelvis 1 procentpoint op eller ned)</li>
<li class="fragment">Problematisk fordi:
<ul>
<li class="fragment">En investor sælger korte obligationer, der blot har en varighed på 2 år for 50 mio kr.</li>
<li class="fragment">Investoren køber i stedet lange obligationer for 10 mio. kr med en varighed på 10 mio kr.</li>
</ul></li>
<li class="fragment">Investoren tænker, at han har den samme varighed i hans portefølje. Dermed uændret risiko.</li>
</ul>
</section>
<section id="hvorfor-bruge-nøglerentevarigheder-1" class="slide level4" data-background="#43464B">
<h4>Hvorfor bruge nøglerentevarigheder?</h4>
<ul>
<li class="fragment">Risikoen er langt fra uændret! Porteføljens risiko er kun uændret, hvis alle renter langs rentestrukturen bevæger sig ens.</li>
<li class="fragment">Investorens portefølje er nu i stedet langt mere eksponeret overfor lange renter. Dermed er hun eksponeret overfor andre makroøkonomiske faktorer.</li>
<li class="fragment">Der er behov for et mere nuanceret risikomål som tager højde for ikke-parallelle renteforskydninger -… Vi har brug for nøglerentevarigheder! (delta vektorer)</li>
</ul>
</section>
<section id="hvorfor-bruge-nøglerentevarigheder-2" class="slide level4" data-background="#43464B">
<h4>Hvorfor bruge nøglerentevarigheder?</h4>

<img src="../../images/chapters/chapter_4/kap4_DeltaVektorerMetoder.png" alt="Forskellige varighedsmål" width="65%" class="r-stretch"><ul>
<li class="fragment">Metode: Ryg og regn! Udregn nutidsværdien for obligationen ved hvert lokalt rentestød og herefter bestem den specifikke varighed for hvert punkt.</li>
</ul>
</section>
<section id="kronevarighed-fordelt-på-nøglerenter" class="slide level4" data-background="#43464B">
<h4>Kronevarighed fordelt på nøglerenter</h4>
<ul>
<li class="fragment"><img src="../../images/chapters/chapter_4/kap4_DeltaVektorer.png" alt="Forskellige varighedsmål" width="65%"></li>
</ul>
<div class="smaller" style="font-size: 0.7em">
<table class="caption-top" style="width:100%;">
<colgroup>
<col style="width: 16%">
<col style="width: 17%">
<col style="width: 16%">
<col style="width: 16%">
<col style="width: 16%">
<col style="width: 17%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th>Kronevarighed</th>
<th>1-årig rente</th>
<th>3-årig rente</th>
<th>5-årig rente</th>
<th>10-årig rente</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Eksempel</strong></td>
<td>5 kr.</td>
<td>0,5 kr.</td>
<td>1,5 kr.</td>
<td>2 kr.</td>
<td>1 kr.</td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="eksempel-på-vigtigheden-af-nøglerenter" class="slide level4" data-background="#43464B">
<h4>Eksempel på vigtigheden af nøglerenter</h4>

<img src="../../images/chapters/chapter_4/kap4_ChoksRentekurve.png" alt="Forskellige varighedsmål" width="65%" class="r-stretch"><div class="smaller" style="font-size: 0.55em">
<table class="caption-top" style="width:100%;">
<colgroup>
<col style="width: 13%">
<col style="width: 15%">
<col style="width: 10%">
<col style="width: 10%">
<col style="width: 9%">
<col style="width: 9%">
<col style="width: 15%">
<col style="width: 15%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">Tid (år)</th>
<th style="text-align: right;">Nulkupon</th>
<th style="text-align: right;">Chok 1</th>
<th style="text-align: right;">Chok 2</th>
<th style="text-align: right;">CF</th>
<th style="text-align: right;">NV CF</th>
<th style="text-align: right;">NV Chok 1</th>
<th style="text-align: right;">NV Chok 2</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: right;">1,0 %</td>
<td style="text-align: right;">2,0 %</td>
<td style="text-align: right;">1,0 %</td>
<td style="text-align: right;">3,00</td>
<td style="text-align: right;">2,97</td>
<td style="text-align: right;">2,94</td>
<td style="text-align: right;">2,97</td>
</tr>
<tr class="even">
<td style="text-align: right;">2</td>
<td style="text-align: right;">2,0 %</td>
<td style="text-align: right;">2,5 %</td>
<td style="text-align: right;">2,5 %</td>
<td style="text-align: right;">3,00</td>
<td style="text-align: right;">2,88</td>
<td style="text-align: right;">2,86</td>
<td style="text-align: right;">2,86</td>
</tr>
<tr class="odd">
<td style="text-align: right;">3</td>
<td style="text-align: right;">3,0 %</td>
<td style="text-align: right;">3,0 %</td>
<td style="text-align: right;">4,0 %</td>
<td style="text-align: right;">103,00</td>
<td style="text-align: right;">94,26</td>
<td style="text-align: right;">94,26</td>
<td style="text-align: right;">91,57</td>
</tr>
<tr class="even">
<td style="text-align: right;"><strong>Nutidsværdi</strong></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"><strong>100,11</strong></td>
<td style="text-align: right;"><strong>100,06</strong></td>
<td style="text-align: right;"><strong>97,39</strong></td>
</tr>
<tr class="odd">
<td style="text-align: right;"><strong>Følsomhed (Nøglerentevarighed)</strong></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;">-0,06</td>
<td style="text-align: right;">-2,72</td>
</tr>
</tbody>
</table>
</div>
</section></section>
<section>
<section id="øvelser" class="title-slide slide level2 center" data-background="#00100F">
<h2>Øvelser</h2>

</section>
<section id="excel" class="title-slide slide level3 center" data-background="#43464B">
<h3>Excel</h3>
<ul>
<li class="fragment">Stående obligation med 2 pct kupon som løber over 3 år</li>
<li class="fragment">Nøglerenter: (1Y, 3Y)</li>
<li class="fragment">Nulkuponrentekurve (3,00; 3,50; 4,00) for år 1, 2 og 3.</li>
<li class="fragment">Chok 1: 1Y nøglerenten stiger med 1 procent point</li>
<li class="fragment">Chok 2: 3Y nøglerenten stiger med 1 proocent point</li>
</ul>
<div class="smaller" style="font-size: 0.7em">
<table class="caption-top">
<colgroup>
<col style="width: 13%">
<col style="width: 28%">
<col style="width: 29%">
<col style="width: 29%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">Tid (år)</th>
<th style="text-align: right;">Nulkuponrente i dag</th>
<th style="text-align: right;">Nulkuponrente chok 1</th>
<th style="text-align: right;">Nulkuponrente chok 2</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: right;">3,00 %</td>
<td style="text-align: right;">4,00 %</td>
<td style="text-align: right;">3,00 %</td>
</tr>
<tr class="even">
<td style="text-align: right;">2</td>
<td style="text-align: right;">3,50 %</td>
<td style="text-align: right;">4,00 %</td>
<td style="text-align: right;">4,00 %</td>
</tr>
<tr class="odd">
<td style="text-align: right;">3</td>
<td style="text-align: right;">4,00 %</td>
<td style="text-align: right;">4,00 %</td>
<td style="text-align: right;">5,00 %</td>
</tr>
</tbody>
</table>
</div>
<ul>
<li class="fragment">Hvad er nøglerentevarighederne for år 1 og 3?</li>
<li class="fragment">Hvad er kronevarigheden?</li>
<li class="fragment">Hvad er fisher weil varigheden?</li>
</ul>
</section>
</section>
<section>
<section id="opsummering" class="title-slide slide level2 center" data-background="#00100F">
<h2>Opsummering</h2>

</section>
<section id="takeaways" class="slide level4" data-background="#43464B">
<h4>Takeaways</h4>
<ul>
<li class="fragment"><strong>Varighed</strong> måler førsteordens prisfølsomhed:
<ul>
<li class="fragment"><strong>Macaulay-varighed</strong> = PV-vægtet gennemsnitlig tid (god til <strong>immuniseringshorisonter</strong>)<br>
</li>
<li class="fragment"><strong>Modificeret varighed</strong> = procentvis prisændring pr. <strong>1 %-point</strong> ændring i den effektive rente<br>
</li>
<li class="fragment"><strong>Kronevarighed / BPV</strong> = prisændring i <strong>kr.</strong> ved en ændring på 1 %-point / 1 bp<br>
</li>
</ul></li>
<li class="fragment"><strong>Konveksitet</strong> korrigerer varighedens lineære fejl:<br>
<span class="math display">\[ \Delta P \;\approx\; -\,\text{Dur}\cdot \Delta y \;+\; \tfrac{1}{2}\cdot \text{Conv}\cdot (\Delta y)^2 \]</span><br>
→ vigtig især ved <strong>større</strong> renteændringer og <strong>lange</strong> løbetider<br>
</li>
<li class="fragment"><strong>Fisher–Weil varighed</strong> anvender <strong>nulkuponrenter</strong> og måler følsomheden ved <strong>parallelle forskydninger</strong> af hele rentekurven – giver kurvekonsistente risikomål<br>
</li>
<li class="fragment"><strong>Nøglerentevarigheder</strong> (delta-vektorer) fanger <strong>lokale</strong> kurvebevægelser (ikke-parallelle skift) og bruges til <strong>hedging</strong> og <strong>scenarie-P/L</strong><br>
</li>
<li class="fragment">På <strong>porteføljeniveau</strong>:
<ul>
<li class="fragment">Nøgletal i <strong>%</strong> (varighed, mod. varighed) vægtes med <strong>markedsværdi</strong><br>
</li>
<li class="fragment">Nøgletal i <strong>kr.</strong> (kronevarighed, BPV, kronekonveksitet) vægtes med <strong>nominal</strong><br>
→ giver konsistente og additive risikomål til styring og rapportering</li>
</ul></li>
</ul>


</section></section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<p><img src="../../themes/favicon.ico" class="slide-logo"></p>
<div class="footer footer-default">
<p>Finansiering — Risikomål</p>
</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'convex',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'fast',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1150,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script id="quarto-html-after-body" type="application/javascript">
      window.document.addEventListener("DOMContentLoaded", function (event) {
        const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
        tabsets.forEach(function(tabset) {
          const tabby = new Tabby('#' + tabset.id);
        });
        const isCodeAnnotation = (el) => {
          for (const clz of el.classList) {
            if (clz.startsWith('code-annotation-')) {                     
              return true;
            }
          }
          return false;
        }
        const onCopySuccess = function(e) {
          // button target
          const button = e.trigger;
          // don't keep focus
          button.blur();
          // flash "checked"
          button.classList.add('code-copy-button-checked');
          var currentTitle = button.getAttribute("title");
          button.setAttribute("title", "Copied!");
          let tooltip;
          if (window.bootstrap) {
            button.setAttribute("data-bs-toggle", "tooltip");
            button.setAttribute("data-bs-placement", "left");
            button.setAttribute("data-bs-title", "Copied!");
            tooltip = new bootstrap.Tooltip(button, 
              { trigger: "manual", 
                customClass: "code-copy-button-tooltip",
                offset: [0, -8]});
            tooltip.show();    
          }
          setTimeout(function() {
            if (tooltip) {
              tooltip.hide();
              button.removeAttribute("data-bs-title");
              button.removeAttribute("data-bs-toggle");
              button.removeAttribute("data-bs-placement");
            }
            button.setAttribute("title", currentTitle);
            button.classList.remove('code-copy-button-checked');
          }, 1000);
          // clear code selection
          e.clearSelection();
        }
        const getTextToCopy = function(trigger) {
          const outerScaffold = trigger.parentElement.cloneNode(true);
          const codeEl = outerScaffold.querySelector('code');
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
        const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
          text: getTextToCopy
        });
        clipboard.on('success', onCopySuccess);
        if (window.document.getElementById('quarto-embedded-source-code-modal')) {
          const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
            text: getTextToCopy,
            container: window.document.getElementById('quarto-embedded-source-code-modal')
          });
          clipboardModal.on('success', onCopySuccess);
        }
          var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
          var mailtoRegex = new RegExp(/^mailto:/);
            var filterRegex = new RegExp("https:\/\/lehfinancier\.github\.io\/Finansiering2025\/");
          var isInternal = (href) => {
              return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
          }
          // Inspect non-navigation links and adorn them if external
         var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
          for (var i=0; i<links.length; i++) {
            const link = links[i];
            if (!isInternal(link.href)) {
              // undo the damage that might have been done by quarto-nav.js in the case of
              // links that we want to consider external
              if (link.dataset.originalHref !== undefined) {
                link.href = link.dataset.originalHref;
              }
            }
          }
        function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
          const config = {
            allowHTML: true,
            maxWidth: 500,
            delay: 100,
            arrow: false,
            appendTo: function(el) {
                return el.closest('section.slide') || el.parentElement;
            },
            interactive: true,
            interactiveBorder: 10,
            theme: 'light-border',
            placement: 'bottom-start',
          };
          if (contentFn) {
            config.content = contentFn;
          }
          if (onTriggerFn) {
            config.onTrigger = onTriggerFn;
          }
          if (onUntriggerFn) {
            config.onUntrigger = onUntriggerFn;
          }
            config['offset'] = [0,0];
            config['maxWidth'] = 700;
          window.tippy(el, config); 
        }
        const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
        for (var i=0; i<noterefs.length; i++) {
          const ref = noterefs[i];
          tippyHover(ref, function() {
            // use id or data attribute instead here
            let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
            try { href = new URL(href).hash; } catch {}
            const id = href.replace(/^#\/?/, "");
            const note = window.document.getElementById(id);
            if (note) {
              return note.innerHTML;
            } else {
              return "";
            }
          });
        }
        const findCites = (el) => {
          const parentEl = el.parentElement;
          if (parentEl) {
            const cites = parentEl.dataset.cites;
            if (cites) {
              return {
                el,
                cites: cites.split(' ')
              };
            } else {
              return findCites(el.parentElement)
            }
          } else {
            return undefined;
          }
        };
        var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
        for (var i=0; i<bibliorefs.length; i++) {
          const ref = bibliorefs[i];
          const citeInfo = findCites(ref);
          if (citeInfo) {
            tippyHover(citeInfo.el, function() {
              var popup = window.document.createElement('div');
              citeInfo.cites.forEach(function(cite) {
                var citeDiv = window.document.createElement('div');
                citeDiv.classList.add('hanging-indent');
                citeDiv.classList.add('csl-entry');
                var biblioDiv = window.document.getElementById('ref-' + cite);
                if (biblioDiv) {
                  citeDiv.innerHTML = biblioDiv.innerHTML;
                }
                popup.appendChild(citeDiv);
              });
              return popup.innerHTML;
            });
          }
        }
      });
      </script>
    

</body></html>